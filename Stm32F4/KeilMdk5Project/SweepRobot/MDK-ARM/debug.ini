map 0x40000000, 0x40007FFF read write // APB1
map 0x40010000, 0x400157FF read write // APB2
map 0x40020000, 0x4007FFFF read write // AHB1
map 0x50000000, 0x50060BFF read write // AHB2
map 0x60000000, 0xA0000FFF read write // AHB3
map 0xE0000000, 0xE00FFFFF read write // CORTEX-M4 internal peripherals

FUNC void Setup (void) {
  xPSR = 1<<24;
  SP   = _RDWORD(0x08000000);
  PC   = _RDWORD(0x08000004); 
  _WDWORD(0xE000ED08, 0x08000000);
}

Setup();